name: "GLUE_DEMO"
environment: "DEV"
pipeline: "snowflake-aws-dms-merge"
source:
  type: "Glue"
  region: "us-east-1"
  database: "mysql"
destination:
  type: "Snowflake"
  snowSqlCommand: "snowsql -c streamliner_admin"
  storagePath: "s3://phdata-snowflake-stage/data/phdata-task/HR/"
  storageIntegration: "PHDATA_S3_READ"
  warehouse: "STREAMLINER_POC_WH"
  taskSchedule: "5 minutes"
  stagingDatabase:
    name: "STREAMLINER_POC_DB"
    schema: "STG"
  reportingDatabase:
    name: "STREAMLINER_POC_DB"
    schema: "MAIN"
tables:
- type: "Snowflake"
  sourceName: "departments"
  destinationName: "departments"
  primaryKeys: []
  fileFormat:
    location: "s3://phdata-snowflake-stage/data/employees-task/employees/departments/"
    fileType: "org.apache.hadoop.hive.ql.io.parquet.MapredParquetOutputFormat"
  columns:
  - sourceName: "op"
    destinationName: "op"
    dataType: "string"
  - sourceName: "ts"
    destinationName: "ts"
    dataType: "string"
  - sourceName: "dept_no"
    destinationName: "dept_no"
    dataType: "string"
  - sourceName: "dept_name"
    destinationName: "dept_name"
    dataType: "string"
- type: "Snowflake"
  sourceName: "dept_emp"
  destinationName: "dept_emp"
  primaryKeys: []
  fileFormat:
    location: "s3://phdata-snowflake-stage/data/employees-task/employees/dept_emp/"
    fileType: "org.apache.hadoop.hive.ql.io.parquet.MapredParquetOutputFormat"
  columns:
  - sourceName: "ts"
    destinationName: "ts"
    dataType: "string"
  - sourceName: "emp_no"
    destinationName: "emp_no"
    dataType: "int"
  - sourceName: "dept_no"
    destinationName: "dept_no"
    dataType: "string"
  - sourceName: "from_date"
    destinationName: "from_date"
    dataType: "date"
  - sourceName: "to_date"
    destinationName: "to_date"
    dataType: "date"
- type: "Snowflake"
  sourceName: "dept_manager"
  destinationName: "dept_manager"
  primaryKeys: []
  fileFormat:
    location: "s3://phdata-snowflake-stage/data/employees-task/employees/dept_manager/"
    fileType: "org.apache.hadoop.hive.ql.io.parquet.MapredParquetOutputFormat"
  columns:
  - sourceName: "ts"
    destinationName: "ts"
    dataType: "string"
  - sourceName: "emp_no"
    destinationName: "emp_no"
    dataType: "int"
  - sourceName: "dept_no"
    destinationName: "dept_no"
    dataType: "string"
  - sourceName: "from_date"
    destinationName: "from_date"
    dataType: "date"
  - sourceName: "to_date"
    destinationName: "to_date"
    dataType: "date"
- type: "Snowflake"
  sourceName: "employees"
  destinationName: "employees"
  primaryKeys: []
  fileFormat:
    location: "s3://phdata-snowflake-stage/data/employees-task/employees/employees/"
    fileType: "org.apache.hadoop.hive.ql.io.parquet.MapredParquetOutputFormat"
  columns:
  - sourceName: "op"
    destinationName: "op"
    dataType: "string"
  - sourceName: "ts"
    destinationName: "ts"
    dataType: "string"
  - sourceName: "emp_no"
    destinationName: "emp_no"
    dataType: "int"
  - sourceName: "birth_date"
    destinationName: "birth_date"
    dataType: "date"
  - sourceName: "first_name"
    destinationName: "first_name"
    dataType: "string"
  - sourceName: "last_name"
    destinationName: "last_name"
    dataType: "string"
  - sourceName: "gender"
    destinationName: "gender"
    dataType: "string"
  - sourceName: "hire_date"
    destinationName: "hire_date"
    dataType: "date"
- type: "Snowflake"
  sourceName: "salaries"
  destinationName: "salaries"
  primaryKeys: []
  fileFormat:
    location: "s3://phdata-snowflake-stage/data/employees-task/employees/salaries/"
    fileType: "org.apache.hadoop.hive.ql.io.parquet.MapredParquetOutputFormat"
  columns:
  - sourceName: "ts"
    destinationName: "ts"
    dataType: "string"
  - sourceName: "emp_no"
    destinationName: "emp_no"
    dataType: "int"
  - sourceName: "salary"
    destinationName: "salary"
    dataType: "int"
  - sourceName: "from_date"
    destinationName: "from_date"
    dataType: "date"
  - sourceName: "to_date"
    destinationName: "to_date"
    dataType: "date"
- type: "Snowflake"
  sourceName: "titles"
  destinationName: "titles"
  primaryKeys: []
  fileFormat:
    location: "s3://phdata-snowflake-stage/data/employees-task/employees/titles/"
    fileType: "org.apache.hadoop.hive.ql.io.parquet.MapredParquetOutputFormat"
  columns:
  - sourceName: "ts"
    destinationName: "ts"
    dataType: "string"
  - sourceName: "emp_no"
    destinationName: "emp_no"
    dataType: "int"
  - sourceName: "title"
    destinationName: "title"
    dataType: "string"
  - sourceName: "from_date"
    destinationName: "from_date"
    dataType: "date"
  - sourceName: "to_date"
    destinationName: "to_date"
    dataType: "date"
- type: "Snowflake"
  sourceName: "single_column_table"
  destinationName: "single_column_table"
  primaryKeys: []
  fileFormat:
    location: "s3://phdata-snowflake-stage/data/employees-task/employees/single_column_table/"
    fileType: "org.apache.hadoop.hive.ql.io.parquet.MapredParquetOutputFormat"
  columns:
  - sourceName: "ts"
    destinationName: "ts"
    dataType: "string"
